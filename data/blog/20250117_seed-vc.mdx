---
title: seed-vcをmacのcpuで動かす
date: '2025-01-17'
tags: ['python','voice-conversion']
draft: false
summary: ゼロショット音声変換ができるseed-vcを、macのcpuで動作させた
---

こんにちは  
最近、seed-vcというものを見つけてとても驚きました。
これは、ゼロショット音声変換(学習の必要がなく、そのまま変換できる的なやつ)がかなりの精度で行えるということでびっくりしました。

https://github.com/Plachtaa/seed-vc

以下のサイト(huggingface)で試してみることができます。

https://huggingface.co/spaces/Plachta/Seed-VC

今回はこれをローカルで動かしたいと思いました


## 注意

- 今回はseed-vcを**CPUで**動かすことを目的としています。GPU使ってやる人はこの記事を見ても意味がありません。たぶん
- 情報は2015/01/17のものです。コード等が変更になっている可能性があります。
- 自分はIntelのmacで実行します。他の環境の方は違うかもしれないけどそこは許してください

## まず実行

python3.10がいいらしいので、仮想環境を作成してとりあえず実行してみましょう。

```zsh
git clone https://github.com/Plachtaa/seed-vc.git
cd seed-vc
pyenv local 3.10.16  
python3.10 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

ここまでで準備完了です。

READMEを見るといろいろ実行方法が書いてありますが、とりあえずhuggingfaceと同じようにWebUIで実行しましょう。

```zsh
python app.py
```

そしたらなにやらたくさんのダウンロードが始まった後、以下のエラーで止まります。  
よく見るとNumpyが1.x系じゃないと動かないみたいなことが書いてあったので1.x系にする

```error
RuntimeError: Numpy is not available
```

```zsh
pip install numpy==1.26.4
```

その後、もう一度app.pyを実行するとローカルサーバが立ち上がるところまではうまくいく。

`Running on local URL:  http://127.0.0.1:7860`

アクセスするとwebuiが観れると思います。音声ファイルを2つ入れて、実行すると、、、

```
RuntimeError: "slow_conv2d_cpu" not implemented for 'Half'
```

またエラーですね。 以下のように`--fp16 False`をつけても同じエラーになります。

```
python app.py --fp16 False
```

どうしたものか...



